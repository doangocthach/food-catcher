{"ast":null,"code":"import{AlignMode,TextType}from\"../utils/loadFontFile\";var createScoreRenderSystem=function createScoreRenderSystem(){var scoreText;var scoreTexTure;var ST_WIDTH,ST_HEIGHT;return{init:function init(worldState,_ref){var font=_ref.font,width=_ref.width,assets=_ref.assets;var numberFont=font.numberFont;scoreText=numberFont.setNewText(width);var atlas=assets.newAssets;scoreTexTure=atlas.findRegion(\"Score\",-1);ST_WIDTH=width/6;ST_HEIGHT=ST_WIDTH*scoreTexTure.height/scoreTexTure.width;},update:function update(delta,_ref2,_ref3){var score=_ref2.score;var batch=_ref3.batch,camera=_ref3.camera,width=_ref3.width,height=_ref3.height;batch.setProjection(camera.combined);batch.begin();batch.setColor(0,0,0,1);scoreTexTure.draw(batch,width*0.97-ST_WIDTH,height*0.11,ST_WIDTH,ST_HEIGHT);scoreText.setAlignMode(AlignMode.right);scoreText.setType(TextType.dynamic);// scoreText.setFixedGlyphWidth(width);\nscoreText.draw(batch,\"\".concat(score),width*0.975,height*0.12,width/8);batch.end();}};};export default createScoreRenderSystem;","map":{"version":3,"sources":["E:/fcatcher-client/src/components/game/systems/ScoreRenderSystem.js"],"names":["AlignMode","TextType","createScoreRenderSystem","scoreText","scoreTexTure","ST_WIDTH","ST_HEIGHT","init","worldState","font","width","assets","numberFont","setNewText","atlas","newAssets","findRegion","height","update","delta","score","batch","camera","setProjection","combined","begin","setColor","draw","setAlignMode","right","setType","dynamic","end"],"mappings":"AAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,uBAApC,CAEA,GAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,EAAM,CACpC,GAAIC,CAAAA,SAAJ,CACA,GAAIC,CAAAA,YAAJ,CACA,GAAIC,CAAAA,QAAJ,CAAcC,SAAd,CACA,MAAO,CACLC,IADK,eACAC,UADA,MACqC,IAAvBC,CAAAA,IAAuB,MAAvBA,IAAuB,CAAjBC,KAAiB,MAAjBA,KAAiB,CAAVC,MAAU,MAAVA,MAAU,IAChCC,CAAAA,UADgC,CACjBH,IADiB,CAChCG,UADgC,CAExCT,SAAS,CAAGS,UAAU,CAACC,UAAX,CAAsBH,KAAtB,CAAZ,CAEA,GAAMI,CAAAA,KAAK,CAAGH,MAAM,CAACI,SAArB,CAEAX,YAAY,CAAGU,KAAK,CAACE,UAAN,CAAiB,OAAjB,CAA0B,CAAC,CAA3B,CAAf,CAEAX,QAAQ,CAAGK,KAAK,CAAG,CAAnB,CACAJ,SAAS,CAAID,QAAQ,CAAGD,YAAY,CAACa,MAAzB,CAAmCb,YAAY,CAACM,KAA5D,CACD,CAXI,CAYLQ,MAZK,iBAYEC,KAZF,aAYsD,IAA3CC,CAAAA,KAA2C,OAA3CA,KAA2C,IAAhCC,CAAAA,KAAgC,OAAhCA,KAAgC,CAAzBC,MAAyB,OAAzBA,MAAyB,CAAjBZ,KAAiB,OAAjBA,KAAiB,CAAVO,MAAU,OAAVA,MAAU,CACzDI,KAAK,CAACE,aAAN,CAAoBD,MAAM,CAACE,QAA3B,EACAH,KAAK,CAACI,KAAN,GACAJ,KAAK,CAACK,QAAN,CAAe,CAAf,CAAkB,CAAlB,CAAqB,CAArB,CAAwB,CAAxB,EAEAtB,YAAY,CAACuB,IAAb,CACEN,KADF,CAEEX,KAAK,CAAG,IAAR,CAAeL,QAFjB,CAGEY,MAAM,CAAG,IAHX,CAIEZ,QAJF,CAKEC,SALF,EAQAH,SAAS,CAACyB,YAAV,CAAuB5B,SAAS,CAAC6B,KAAjC,EACA1B,SAAS,CAAC2B,OAAV,CAAkB7B,QAAQ,CAAC8B,OAA3B,EACA;AACA5B,SAAS,CAACwB,IAAV,CACEN,KADF,WAEKD,KAFL,EAGEV,KAAK,CAAG,KAHV,CAIEO,MAAM,CAAG,IAJX,CAKEP,KAAK,CAAG,CALV,EAQAW,KAAK,CAACW,GAAN,GACD,CArCI,CAAP,CAuCD,CA3CD,CA6CA,cAAe9B,CAAAA,uBAAf","sourcesContent":["import { AlignMode, TextType } from \"../utils/loadFontFile\";\r\n\r\nconst createScoreRenderSystem = () => {\r\n  let scoreText;\r\n  let scoreTexTure;\r\n  let ST_WIDTH, ST_HEIGHT;\r\n  return {\r\n    init(worldState, { font, width, assets }) {\r\n      const { numberFont } = font;\r\n      scoreText = numberFont.setNewText(width);\r\n\r\n      const atlas = assets.newAssets;\r\n\r\n      scoreTexTure = atlas.findRegion(\"Score\", -1);\r\n\r\n      ST_WIDTH = width / 6;\r\n      ST_HEIGHT = (ST_WIDTH * scoreTexTure.height) / scoreTexTure.width;\r\n    },\r\n    update(delta, { score }, { batch, camera, width, height }) {\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      batch.setColor(0, 0, 0, 1);\r\n\r\n      scoreTexTure.draw(\r\n        batch,\r\n        width * 0.97 - ST_WIDTH,\r\n        height * 0.11,\r\n        ST_WIDTH,\r\n        ST_HEIGHT\r\n      );\r\n\r\n      scoreText.setAlignMode(AlignMode.right);\r\n      scoreText.setType(TextType.dynamic);\r\n      // scoreText.setFixedGlyphWidth(width);\r\n      scoreText.draw(\r\n        batch,\r\n        `${score}`,\r\n        width * 0.975,\r\n        height * 0.12,\r\n        width / 8\r\n      );\r\n\r\n      batch.end();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createScoreRenderSystem;\r\n"]},"metadata":{},"sourceType":"module"}