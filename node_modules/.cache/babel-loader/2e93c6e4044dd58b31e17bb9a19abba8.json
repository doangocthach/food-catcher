{"ast":null,"code":"export var PlayMode = {\n  NORMAL: 0,\n  LOOP: 1,\n  LOOP_PINGPONG: 2,\n  REVERSED: 3,\n  LOOP_REVERSED: 4\n}; // TODO: dynamic frame duration\n\nexport default (function (frameDuration) {\n  var keyFrames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return {\n    getKeyFrame: function getKeyFrame(stateTime) {\n      var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : PlayMode.NORMAL;\n      var frameNumber = Math.floor(stateTime / frameDuration);\n\n      switch (mode) {\n        case PlayMode.NORMAL:\n          frameNumber = Math.min(keyFrames.length - 1, frameNumber);\n          break;\n\n        case PlayMode.LOOP:\n          frameNumber = frameNumber % keyFrames.length;\n          break;\n\n        case PlayMode.LOOP_PINGPONG:\n          frameNumber = frameNumber % (keyFrames.length * 2 - 2);\n\n          if (frameNumber >= keyFrames.length) {\n            frameNumber = keyFrames.length - 2 - (frameNumber - keyFrames.length);\n          }\n\n          break;\n\n        case PlayMode.REVERSED:\n          frameNumber = Math.max(keyFrames.length - frameNumber - 1, 0);\n          break;\n\n        case PlayMode.LOOP_REVERSED:\n          frameNumber = frameNumber % keyFrames.length;\n          frameNumber = keyFrames.length - frameNumber - 1;\n          break;\n\n        default:\n      }\n\n      return keyFrames[frameNumber];\n    }\n  };\n});","map":{"version":3,"sources":["E:/fcatcher-client/node_modules/gdxjs/lib/createAnimation.js"],"names":["PlayMode","NORMAL","LOOP","LOOP_PINGPONG","REVERSED","LOOP_REVERSED","frameDuration","keyFrames","getKeyFrame","stateTime","mode","frameNumber","Math","floor","min","length","max"],"mappings":"AAAA,OAAO,IAAMA,QAAQ,GAAG;AACtBC,EAAAA,MAAM,EAAE,CADc;AAEtBC,EAAAA,IAAI,EAAE,CAFgB;AAGtBC,EAAAA,aAAa,EAAE,CAHO;AAItBC,EAAAA,QAAQ,EAAE,CAJY;AAKtBC,EAAAA,aAAa,EAAE;AALO,CAAjB,C,CAMJ;;AAEH,gBAAgB,UAACC,aAAD,EAAmC;AAAA,MAAnBC,SAAmB,uEAAP,EAAO;AACjD,SAAO;AACLC,IAAAA,WADK,uBACOC,SADP,EAC0C;AAAA,UAAxBC,IAAwB,uEAAjBV,QAAQ,CAACC,MAAQ;AAC7C,UAAIU,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWJ,SAAS,GAAGH,aAAvB,CAAlB;;AAEA,cAAQI,IAAR;AACE,aAAKV,QAAQ,CAACC,MAAd;AACEU,UAAAA,WAAW,GAAGC,IAAI,CAACE,GAAL,CAASP,SAAS,CAACQ,MAAV,GAAmB,CAA5B,EAA+BJ,WAA/B,CAAd;AACA;;AAEF,aAAKX,QAAQ,CAACE,IAAd;AACES,UAAAA,WAAW,GAAGA,WAAW,GAAGJ,SAAS,CAACQ,MAAtC;AACA;;AAEF,aAAKf,QAAQ,CAACG,aAAd;AACEQ,UAAAA,WAAW,GAAGA,WAAW,IAAIJ,SAAS,CAACQ,MAAV,GAAmB,CAAnB,GAAuB,CAA3B,CAAzB;;AAEA,cAAIJ,WAAW,IAAIJ,SAAS,CAACQ,MAA7B,EAAqC;AACnCJ,YAAAA,WAAW,GAAGJ,SAAS,CAACQ,MAAV,GAAmB,CAAnB,IAAwBJ,WAAW,GAAGJ,SAAS,CAACQ,MAAhD,CAAd;AACD;;AAED;;AAEF,aAAKf,QAAQ,CAACI,QAAd;AACEO,UAAAA,WAAW,GAAGC,IAAI,CAACI,GAAL,CAAST,SAAS,CAACQ,MAAV,GAAmBJ,WAAnB,GAAiC,CAA1C,EAA6C,CAA7C,CAAd;AACA;;AAEF,aAAKX,QAAQ,CAACK,aAAd;AACEM,UAAAA,WAAW,GAAGA,WAAW,GAAGJ,SAAS,CAACQ,MAAtC;AACAJ,UAAAA,WAAW,GAAGJ,SAAS,CAACQ,MAAV,GAAmBJ,WAAnB,GAAiC,CAA/C;AACA;;AAEF;AA3BF;;AA8BA,aAAOJ,SAAS,CAACI,WAAD,CAAhB;AACD;AAnCI,GAAP;AAsCD,CAvCD","sourcesContent":["export const PlayMode = {\n  NORMAL: 0,\n  LOOP: 1,\n  LOOP_PINGPONG: 2,\n  REVERSED: 3,\n  LOOP_REVERSED: 4\n}; // TODO: dynamic frame duration\n\nexport default ((frameDuration, keyFrames = []) => {\n  return {\n    getKeyFrame(stateTime, mode = PlayMode.NORMAL) {\n      let frameNumber = Math.floor(stateTime / frameDuration);\n\n      switch (mode) {\n        case PlayMode.NORMAL:\n          frameNumber = Math.min(keyFrames.length - 1, frameNumber);\n          break;\n\n        case PlayMode.LOOP:\n          frameNumber = frameNumber % keyFrames.length;\n          break;\n\n        case PlayMode.LOOP_PINGPONG:\n          frameNumber = frameNumber % (keyFrames.length * 2 - 2);\n\n          if (frameNumber >= keyFrames.length) {\n            frameNumber = keyFrames.length - 2 - (frameNumber - keyFrames.length);\n          }\n\n          break;\n\n        case PlayMode.REVERSED:\n          frameNumber = Math.max(keyFrames.length - frameNumber - 1, 0);\n          break;\n\n        case PlayMode.LOOP_REVERSED:\n          frameNumber = frameNumber % keyFrames.length;\n          frameNumber = keyFrames.length - frameNumber - 1;\n          break;\n\n        default:\n      }\n\n      return keyFrames[frameNumber];\n    }\n\n  };\n});"]},"metadata":{},"sourceType":"module"}